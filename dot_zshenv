# üìú Locale and environment
export LC_ALL=en_US.UTF-8
export TERMINAL=alacritty
export VISUAL=emacs
export EDITOR=emacs
export EMACSDIR="$HOME/.config/emacs"

# üé® Oh My Zsh root path
export ZSH="$HOME/.oh-my-zsh"

# üßµ Paths
export PATH="$HOME/.local/bin:$PATH"
export ZDOTDIR="$HOME/.config/zsh"

# üìñ Pager + theming
export PAGER="bat --paging=always --plain --theme=Dracula"
export MANPAGER="sh -c 'col -bx | bat --paging=always --style=plain --theme=Dracula'"
export BAT_THEME=Dracula

# üóÇ History
export HISTFILE="$HOME/.zsh_history"
export HISTSIZE=1000
export SAVEHIST=1000

# ‚õîÔ∏è Disable Oh My Zsh auto-updates
export DISABLE_AUTO_UPDATE="true"

# üñ•Ô∏è Wayland + GPU + GNOME envs
export LIBVA_DRIVER_NAME=iHD
export XDG_CURRENT_DESKTOP=sway
export XDG_SESSION_TYPE=wayland
export MOZ_ENABLE_WAYLAND=1
export MOZ_USE_XINPUT2=1
export MOZ_DBUS_REMOTE=1

# üîë Set GPG_TTY for pinentry
export GPG_TTY="$(tty)"

# üîê Start GNOME Keyring agent via PAM and fix socket if needed
if [[ -z "$SSH_AUTH_SOCK" ]]; then
  for sock in "$XDG_RUNTIME_DIR/gcr/ssh" "$XDG_RUNTIME_DIR/keyring/ssh" "$XDG_RUNTIME_DIR/gnupg/S.gpg-agent.ssh"; do
    if [[ -S "$sock" ]]; then
      export SSH_AUTH_SOCK="$sock"
      break
    fi
  done
fi

# üîê Load secrets
[ -f "$HOME/.zshenv_secret" ] && source "$HOME/.zshenv_secret"

export XDG_CONFIG_HOME="$HOME/.config"
export EMACSDIR="$HOME/.config/emacs"
